(()=>{var e={860:e=>{"use strict";e.exports=require("express")},13:e=>{"use strict";e.exports=require("mongodb")}},o={};function s(t){var n=o[t];if(void 0!==n)return n.exports;var r=o[t]={exports:{}};return e[t](r,r.exports,s),r.exports}(()=>{const{MongoClient:e}=s(13),o=s(860);let t;const n=o();n.set("view engine","ejs"),n.set("views","./views"),n.use(o.static("public")),n.use(o.json()),n.use(o.urlencoded({extended:!1})),n.get("/",(async(e,o)=>{const s=await t.collection("recipes").find().toArray();console.log(s),o.render("home",{allRecipes:s})})),n.get("/admin",((e,o)=>{o.render("admin")})),n.get("/api/recipes",(async(e,o)=>{const s=await t.collection("recipes").find().toArray();o.json(s)})),n.post("/create-recipe",(async(e,o)=>{console.log(e.body),o.send("Thank you")})),async function(){const o=new e("mongodb+srv://memorias:memorias123@cluster0.kohzkj0.mongodb.net/papos?retryWrites=true&w=majority&authSource=admin");await o.connect(),t=o.db(),n.listen(8080)}()})()})();